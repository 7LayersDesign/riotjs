/* Riot v4.0.0-alpha.5, @license MIT */(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.riot={}))})(this,function(a){"use strict";function b(a){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b(a)}function c(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function d(a){for(var b=1;b<arguments.length;b++){var d=null==arguments[b]?{}:arguments[b],e=Object.keys(d);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(d).filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable}))),e.forEach(function(b){c(a,b,d[b])})}return a}function e(a,b){return h(a)||j(a,b)||l()}function f(a){return g(a)||i(a)||k()}function g(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function h(a){if(Array.isArray(a))return a}function i(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function j(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}function k(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function m(a,c){return b(a)===c}function n(a){return m(a,"function")}function o(a){return m(a,"string")}function p(a,b){return o(a)?Array.from((b||document).querySelectorAll(a)):r(a)}function q(a,b){return o(a)?(b||document).querySelector(a):a}function r(a){return Array.isArray(a)?a:/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&"number"==typeof a.length?Array.from(a):[a]}function s(a,b){return a.getAttribute(b)}function t(a,b,c){o(c)&&a.setAttribute(b,c)}function u(a){return Array.from(a.attributes).reduce(function(a,b){return a[b.name]=b.value,a},{})}function v(a){return s(a,"is")||a.tagName.toLowerCase()}function w(a){throw new Error(a)}function x(a){return n(a)?a.constructor.name?new a:a():a}function y(a,b){return Object.entries(b).forEach(function(b){var c=e(b,2),d=c[0],f=c[1];a[d]||(a[d]=f)}),a}function z(){return this}function A(a,b){return b.forEach(function(b){a[b]=a[b].bind(a)}),a}function B(a,b,c){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return Object.defineProperty(a,b,d({value:c,enumerable:!1,writable:!1,configurable:!0},e)),a}function C(a,b,c){return Object.entries(b).forEach(function(b){var d=e(b,2),f=d[0],g=d[1];B(a,f,g,c)}),a}function D(a,b){return a.reduce(function(a,c){var d=c.evaluate(b);return c.name?a[c.name]=d:Object.assign(a,d),a},{})}function E(a){const b=a.childNodes;b.forEach(b=>a.removeChild(b))}function F(a,b){return!!a&&!1===!!a(b)}function G({itemName:a,indexName:b,index:c,item:d,scope:e}){const f={[a]:d,...e};return b?{[b]:c,...f}:f}function H(a,b,c){const{condition:d,template:e,childrenMap:f,itemName:g,getKey:h,indexName:j,root:k}=c,l=new Set,m=new Map,n=[],o=[];return a.forEach((a,c)=>{const i=c-l.size,p=G({itemName:g,indexName:j,index:i,item:a,scope:b}),q=h?h(p):i,r=f.get(q);if(F(d,p))return void l.add(r);const s=r?r.tag:e.clone(),t=r?s.el:k.cloneNode();r?n.push(()=>s.update(p)):n.push(()=>s.mount(t,p)),o.push(t),m.set(q,{tag:s,context:p,index:i})}),{newChildrenMap:m,batches:n,futureNodes:o}}function I(a,b){const c=b.parentNode;c.insertBefore(a,b),c.removeChild(b)}function J(a,b){Object.entries(b).forEach(([b,c])=>L(a,{name:b},c))}function K(a,b){Object.keys(b).forEach(b=>a.removeAttribute(b))}function L(a,{name:b},c,d){return b?void("boolean"==typeof c&&(a[b]=c),a[M(c)](b,N(b,c))):void(c?J(a,c):d&&K(a,d))}function M(a){return a&&"object"!=typeof a?Xa:Wa}function N(a,b){return!0===b?a:b}function O(a){return null==a?"":a}function P(a,b){return Ya[a.type](a.node,a,b,a.value)}function Q(a,b){return{...Za,...b,node:a}}function R(a,b,c){return b.reduce((b,d)=>({...b,[d]:b=>a.map(a=>a[d](b))&&c}),{})}function S(a,b=[],c=[]){return a?a({slots:b,attributes:c}):ba(U(b),[...T(b),{expressions:c.map(a=>({type:Ra,...a}))}])}function T(a){return a.reduce((a,{bindings:b})=>a.concat(b),[])}function U(a){return a.reduce((a,b)=>a+b.html,"")}function V(a,b){const{selector:c,type:d,redundantAttribute:e,expressions:f}=b,g=c?a.querySelector(c):a;return e&&g.removeAttribute(e),(_a[d]||_a[ua])(g,{...b,expressions:f||[]})}function W(a){const b=a.ownerSVGElement;return!!b||null===b}function X(a){const b=document.createElement("template");return b.innerHTML=a,b.content}function Y(a,b){const c=b.ownerDocument.importNode(new window.DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg">${a}</svg>`,"application/xml").documentElement,!0);return c}function Z(a,b){return W(a)?Y(b,a):X(b)}function $(a,b){a.firstChild&&(b.appendChild(a.firstChild),$(a,b))}function _(a,b){ab.test(a.tagName)?$(b,a):a.appendChild(b)}function aa(a,b){return b&&("string"==typeof b?Z(a,b):b)}function ba(a,b=[]){return{...bb,html:a,bindingsData:b}}function ca(a){a.firstChild&&(a.parentNode.insertBefore(a.firstChild,a),ca(a)),a.parentNode&&a.parentNode.removeChild(a)}function da(a,b,c){var e=c.name,f=c.slots,g=f.find(function(a){var b=a.id;return b===e});return d({},cb,{node:b,name:e,template:g&&ba(g.html,g.bindings).createDOM(a)})}function ea(a,b){var c=p("slot",a),d=c.map(function(c){var d=s(c,"name")||"default";return da(a,c,{name:d,slots:b})});return{mount:function(a){return d.forEach(function(b){return b.mount(a)}),this},update:function(a){return d.forEach(function(b){return b.update(a)}),this},unmount:function(a){return d.forEach(function(b){return b.unmount(a)}),this}}}function fa(a,...b){return(...c)=>(c=[...b,...c],c.length<a.length?fa(a,...c):a(...c))}function ga(a){var b=a.css,c=a.template,d=a.tag,e=a.name;return function(a){var f=ha({css:b,template:c,tag:d,name:e})(a);return{mount:function(a,b,c){return f.mount(a,c,b)},update:function(a,b){return f.update(b,a)},unmount:function(){return f.unmount()}}}}function ha(a){var b=a.css,c=a.template,e=a.tag,f=a.name,g=x(e)||{},h=ka(g.components);return b&&f&&gb.add(f,b),fa(na)(C(y(g,d({},ib,{state:{}})),d({slots:null,root:null},hb,{css:b,template:c?c(ba,Va,wa,function(a){return h[a]||pa.get(a)}):jb})))}function ia(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],c=2<arguments.length?arguments[2]:void 0,d=3<arguments.length?arguments[3]:void 0;return b.length?c?D(b,c):d:u(a)}function ja(a){return ba(null,[{expressions:(a||[]).map(function(a){return d({type:Va.ATTRIBUTE},a)})}])}function ka(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return Object.entries(x(a)).reduce(function(a,b){var c=e(b,2),f=c[0],g=c[1];return a[f]=ga(d({name:f},g)),a},{})}function la(a){return f(ra).reduce(function(a,b){return b(a)||a},a)}function ma(a,b){return d({},a,x(b))}function na(a,b){var c=b.slots,d=b.attributes,e=ja(d);return A(la(C(Object.create(a),{mount:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=2<arguments.length?arguments[2]:void 0;return this.props=ia(a,d,f,{}),this.state=ma(this.state,b),C(this,{root:a,attributes:e.createDOM(a).clone(),template:this.template.createDOM(a).clone()}),a[qa]=this,this.onBeforeMount(),this.attributes.mount(a,f),this.template.mount(a,this),B(this,"slots",ea(a,c||[])),this.slots.mount(f),this.onMounted(),this},update:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length?arguments[1]:void 0,c=ia(this.root,d,b,this.props);if(!1!==this.shouldUpdate(c,this.props))return this.onBeforeUpdate(),this.props=c,this.state=ma(this.state,a),b&&(this.attributes.update(b),this.slots.update(b)),this.template.update(this),this.onUpdated(),this},unmount:function(a){return this.onBeforeUnmount(),this.attributes.unmount(),this.slots.unmount(),this.template.unmount(this,!0===a),this.onUnmounted(),this}})),Object.keys(a).filter(function(b){return n(a[b])}))}function oa(a,b,c){var d=c||v(a);pa.has(d)||w("The component named \"".concat(d,"\" was never registered"));var e=pa.get(d)({});return e.mount(a,{},b)}var pa=new Map,qa=Symbol("riot-component"),ra=new Set,sa=Object.freeze({COMPONENTS_IMPLEMENTATION_MAP:pa,DOM_COMPONENT_INSTANCE_PROPERTY:qa,PLUGINS_SET:ra,IS_DIRECTIVE:"is"});const ta=1,ua=2,va=3;var wa={EACH:0,IF:ta,SIMPLE:ua,TAG:va},xa={};/*! (c) Andrea Giammarchi - ISC */try{xa.Map=Map}catch(a){xa.Map=function(){function a(a){return b=c.indexOf(a),-1<b}var b=0,c=[],d=[];return{delete:function(e){var f=a(e);return f&&(c.splice(b,1),d.splice(b,1)),f},get:function(c){return a(c)?d[b]:void 0},has:function(b){return a(b)},set:function(e,f){return d[a(e)?b:c.push(e)-1]=f,this}}}}var ya=xa.Map;const za=(a,b,c,d,e,f)=>{if(2>e-d)b.insertBefore(a(c[d],1),f);else{const g=b.ownerDocument.createDocumentFragment();for(;d<e;)g.appendChild(a(c[d++],1));b.insertBefore(g,f)}},Aa=(c,a)=>c==a,Ba=a=>a,Ca=(a,b,c,d,e,f,g)=>{const h=f-e;if(1>h)return-1;for(;c-b>=h;){let h=b,i=e;for(;h<c&&i<f&&g(a[h],d[i]);)h++,i++;if(i===f)return b;b=h+1}return-1},Da=(a,b,c,d,e,f)=>{for(;d<e&&f(c[d],a[b-1]);)d++,b--;return 0===b},Ea=(a,b,c,d,e)=>c<d?a(b[c],0):0<c?a(b[c-1],-0).nextSibling:e,Fa=(a,b,c,d,e)=>{if(2>e-d)b.removeChild(a(c[d],-1));else{const f=b.ownerDocument.createRange();f.setStartBefore(a(c[d],-1)),f.setEndAfter(a(c[e-1],-1)),f.deleteContents()}},Ga=-1,Ha=1,Ia=0,Ja=(a,b,c,d,e,f,g,h)=>{let j=0,l=d<h?d:h;const m=Array(l++),n=Array(l);n[0]=-1;for(let j=1;j<l;j++)n[j]=g;const o=new ya;for(let j=f;j<g;j++)o.set(e[j],j);for(let k=b;k<c;k++){const b=o.get(a[k]);null!=b&&(j=Ma(n,l,b),-1<j&&(n[j]=b,m[j]={newi:k,oldi:b,prev:m[j-1]}))}for(j=--l,--g;n[j]>g;)--j;l=h+d-j;const p=Array(l);let q=m[j];for(--c;q;){const{newi:a,oldi:b}=q;for(;c>a;)p[--l]=Ha,--c;for(;g>b;)p[--l]=Ga,--g;p[--l]=Ia,--c,--g,q=q.prev}for(;c>=b;)p[--l]=Ha,--c;for(;g>=f;)p[--l]=Ga,--g;return p},Ka=(a,b,e,f,g,h,i)=>{const j=e+h,l=[];let m,n,o,p,q,s,t;outer:for(m=0;m<=j;m++){if(m>50)return null;for(t=m-1,q=m?l[m-1]:[0,0],s=l[m]=[],n=-m;n<=m;n+=2){for(p=n===-m||n!==m&&q[t+n-1]<q[t+n+1]?q[t+n+1]:q[t+n-1]+1,o=p-n;p<h&&o<e&&i(f[g+p],a[b+o]);)p++,o++;if(p===h&&o===e)break outer;s[m+n]=p}}const u=Array(m/2+j/2);let v=u.length-1;for(m=l.length-1;0<=m;m--){for(;0<p&&0<o&&i(f[g+p-1],a[b+o-1]);)u[v--]=Ia,p--,o--;if(!m)break;t=m-1,q=m?l[m-1]:[0,0],n=p-o,n===-m||n!==m&&q[t+n-1]<q[t+n+1]?(o--,u[v--]=Ha):(p--,u[v--]=Ga)}return u},La=(a,b,c,d,e,f,g,h,j)=>{const k=new ya,l=a.length;let m=g,n=0;for(;n<l;)switch(a[n++]){case Ia:e++,m++;break;case Ha:k.set(d[e],1),za(b,c,d,e++,e,m<h?b(f[m],0):j);break;case Ga:m++;}for(n=0;n<l;)switch(a[n++]){case Ia:g++;break;case Ga:k.has(f[g])?g++:Fa(b,c,f,g++,g);}},Ma=(a,b,c)=>{let d=1,e=b;for(;d<e;){const b=(d+e)/2>>>0;c<a[b]?e=b:d=b+1}return d},Na=(a,b,c,d,e,f,g,h,i,j,k,l,m)=>{La(Ka(c,d,f,g,h,j,l)||Ja(c,d,e,f,g,h,i,j),a,b,c,d,g,h,k,m)},Oa=(a,b,c,d)=>{d||(d={});const e=d.compare||Aa,f=d.node||Ba,g=null==d.before?null:f(d.before,0),h=b.length;let j=h,k=0,l=c.length,m=0;for(;k<j&&m<l&&e(b[k],c[m]);)k++,m++;for(;k<j&&m<l&&e(b[j-1],c[l-1]);)j--,l--;const n=k===j,o=m===l;if(n&&o)return c;if(n&&m<l)return za(f,a,c,m,l,Ea(f,b,k,h,g)),c;if(o&&k<j)return Fa(f,a,b,k,j),c;const p=j-k,q=l-m;let r=-1;if(p<q){if(r=Ca(c,m,l,b,k,j,e),-1<r)return za(f,a,c,m,r,f(b[k],0)),za(f,a,c,r+p,l,Ea(f,b,j,h,g)),c;}else if(q<p&&(r=Ca(b,k,j,c,m,l,e),-1<r))return Fa(f,a,b,k,r),Fa(f,a,b,r+q,j),c;return 2>p||2>q?(za(f,a,c,m,l,f(b[k],0)),Fa(f,a,b,k,j),c):p===q&&Da(c,l,b,k,j,e)?(za(f,a,c,m,l,Ea(f,b,j,h,g)),c):(Na(f,a,c,m,l,q,b,k,j,p,h,e,g),c)},Pa=Object.seal({childrenMap:null,node:null,root:null,condition:null,evaluate:null,template:null,tags:[],getKey:null,indexName:null,itemName:null,afterPlaceholder:null,placeholder:null,mount(a){return this.update(a)},update(a){const{placeholder:b}=this,c=this.evaluate(a),d=c?Array.from(c):[],e=b.parentNode,{newChildrenMap:f,batches:g,futureNodes:h}=H(d,a,this),i=this.tags[this.tags.length-1];return Oa(e,this.tags,h,{before:i?i.nextSibling:b.nextSibling}),g.forEach(a=>a()),this.childrenMap=f,this.tags=h,this},unmount(){return Array.from(this.childrenMap.values()).forEach(({tag:a,context:b})=>{a.unmount(b,!0)}),this.childrenMap=new Map,this.tags=[],this}}),Qa=Object.seal({node:null,evaluate:null,placeholder:null,template:"",mount(a){return I(this.placeholder,this.node),this.update(a)},update(a){const b=!!this.evaluate(a),c=!this.value&&b,d=this.value&&!b;switch(!0){case c:I(this.node,this.placeholder),this.template&&(this.template=this.template.clone(),this.template.mount(this.node,a));break;case d:I(this.placeholder,this.node),this.unmount(a);break;default:b&&this.template.update(a);}return this.value=b,this},unmount(a){const{template:b}=this;return b&&b.unmount(a),this}}),Ra=0,Sa=1,Ta=2,Ua=3;var Va={ATTRIBUTE:Ra,EVENT:Sa,TEXT:Ta,VALUE:Ua};const Wa="removeAttribute",Xa="setAttribute";var Ya={[Ra]:L,[Sa]:function(a,{name:b},c){a[b]=c},[Ta]:function(a,{childNodeIndex:b},c){const d=a.childNodes[b],e=O(c);if(d.nodeType===Node.COMMENT_NODE){const b=document.createTextNode(e);a.replaceChild(b,d)}else d.data=O(e)},[Ua]:function(a,b,c){a.value=c}};const Za=Object.seal({node:null,value:null,mount(a){return this.value=this.evaluate(a),P(this,this.value),this},update(a){const b=this.evaluate(a);return this.value!==b&&(P(this,b),this.value=b),this},unmount(){return this}}),$a=Object.seal({node:null,evaluate:null,name:null,slots:null,tag:null,attributes:null,getComponent:null,mount(a){return this.update(a)},update(a){const b=this.evaluate(a);return b===this.name?this.tag.update(a):(this.tag&&this.tag.unmount(a),this.name=b,this.tag=S(this.getComponent(b),this.slots,this.attributes),this.tag.mount(this.node,a)),this},unmount(a){return this.tag&&this.tag.unmount(a),this}});var _a={[ta]:function(a,{evaluate:b,template:c}){return{...Qa,node:a,evaluate:b,placeholder:document.createTextNode(""),template:c.createDOM(a)}},[ua]:function(a,{expressions:b}){return{...R(b.map(b=>Q(a,b)),["mount","update","unmount"])}},[0]:function(a,{evaluate:b,condition:c,itemName:d,indexName:e,getKey:f,template:g}){const h=document.createTextNode(""),i=a.parentNode,j=a.cloneNode(),k=Array.from(i.childNodes).indexOf(a);return i.insertBefore(h,a),i.removeChild(a),{...Pa,childrenMap:new Map,node:a,root:j,offset:k,condition:c,evaluate:b,template:g.createDOM(a),getKey:f,indexName:e,itemName:d,placeholder:h}},[va]:function(a,{evaluate:b,getComponent:c,slots:d,attributes:e}){return{...$a,node:a,evaluate:b,slots:d,attributes:e,getComponent:c}}};const ab=/svg/i,bb=Object.freeze({bindings:null,bindingsData:null,html:null,dom:null,el:null,createDOM(a){return this.dom=this.dom||aa(a,this.html),this},mount(a,c){if(!a)throw new Error("Please provide DOM node to mount properly your template");return this.el&&this.unmount(c),this.el=a,this.createDOM(a),this.dom&&_(a,this.dom.cloneNode(!0)),this.bindings=this.bindingsData.map(a=>V(this.el,a)),this.bindings.forEach(a=>a.mount(c)),this},update(a){return this.bindings.forEach(c=>c.update(a)),this},unmount(a,b){return this.el&&(this.bindings.forEach(c=>c.unmount(a)),E(this.el),b&&this.el.parentNode.removeChild(this.el),this.el=null),this},clone(){return{...this,el:null}}});var cb=Object.seal({node:null,name:null,template:null,mount:function(a){return this.template?(this.template.mount(this.node,a),ca(this.node)):this.node.parentNode.removeChild(this.node),this},update:function(a){return this.template?(this.template.update(a),this):this},unmount:function(a){return this.template?(this.template.unmount(a),this):this}}),db=function(){return"undefined"==typeof window?void 0:window}(),eb=new Map,fb=db&&function(){var a=document.createElement("style");return t(a,"type","text/css"),document.head.appendChild(a),a}(),gb={add:function(a,b){return eb.has(a)||eb.set(a,b),this.inject(),this},inject:function(){return fb?(fb.innerHTML=f(eb.values()).join("\n"),this):this},remove:function(a){return fb?(eb.has(a)&&(eb.delete(a),this.inject()),this):this}},hb=Object.freeze({$:function(a){return q(a,this.root)},$$:function(a){return p(a,this.root)},ref:function(a){return p(a,this.root).map(function(a){return a[qa]||a})}}),ib=Object.freeze({shouldUpdate:z,onBeforeMount:z,onMounted:z,onBeforeUpdate:z,onUpdated:z,onBeforeUnmount:z,onUnmounted:z}),jb={update:z,mount:z,unmount:z,clone:z,createDOM:z},kb=qa,lb=pa,mb=ra,nb=((...a)=>a.reduce((a,b)=>(...c)=>a(b(...c))))(function(a){return a({})},ga);a.register=function(a,b){var c=b.css,d=b.template,e=b.tag;return lb.has(a)&&w("The component \"".concat(a,"\" was already registered")),lb.set(a,ga({name:a,css:c,template:d,tag:e})),lb},a.unregister=function(a){return lb.has(a)||w("The component \"".concat(a,"\" was never registered")),lb.delete(a),gb.remove(a),lb},a.mount=function(a,b,c){return p(a).map(function(a){return oa(a,b,c)})},a.unmount=function(a){return p(a).map(function(a){return a[kb]&&a[kb].unmount(),a})},a.install=function(a){return n(a)||w("Plugins must be of type function"),mb.has(a)&&w("This plugin was already install"),mb.add(a),mb},a.uninstall=function(a){return mb.has(a)||w("This plugin was never installed"),mb.delete(a),mb},a.component=nb,a.version="v4.0.0-alpha.5",a.__={cssManager:gb,defineComponent:ha,globals:sa},Object.defineProperty(a,"__esModule",{value:!0})});
